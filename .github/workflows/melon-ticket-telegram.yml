name: Test Slack & Melon Ticket Actions

on:
  workflow_dispatch:  # å¯æ‰‹å‹•è§¸ç™¼æ¸¬è©¦

jobs:
  test-slack:
    runs-on: ubuntu-latest
    steps:
      - name: Test Slack webhook
        run: |
          curl -X POST -H 'Content-type: application/json' \
          --data '{"text":"âœ… æ¸¬è©¦æˆåŠŸï¼šé€™æ˜¯ä¸€å‰‡æ¸¬è©¦è¨Šæ¯"}' \
          ${{ secrets.SLACK_WEBHOOK_URL }}

  test-melon-action:
    runs-on: ubuntu-latest
    steps:
      - name: Run melon-ticket-actions (test)
        uses: mooyoul/melon-ticket-actions@v1.1.5
        with:
          product-id: 211510
          schedule-id: 100001
          seat-id: test_9999          # ç”¨ä¸å­˜åœ¨çš„åº§ä½æ¸¬è©¦
          slack-incoming-webhook-url: ${{ secrets.SLACK_WEBHOOK_URL }}
          message: "ğŸš€ æ¸¬è©¦é€šçŸ¥ - Slack webhook OK"
