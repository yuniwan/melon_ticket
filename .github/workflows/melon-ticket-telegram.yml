name: Check Melon Ticket Multi-Floor

on:
  schedule:
    - cron: '*/5 * * * *'  # 每 5 分鐘跑一次
  workflow_dispatch:

jobs:
  check-ticket:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v3

      - name: Check Melon Ticket Floors
        uses: ./melon-ticket-floor-action
        with:
          product-id: '211510'
          schedule-id: '100001'
          floor-ids: 'Floor A, Floor B, Floor C'
          slack-webhook-url: ${{ secrets.SLACK_WEBHOOK_URL }}
          message: '🚀 演唱會餘票速報!'
